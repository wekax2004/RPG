<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprite Inspector</title>
    <style>
        body {
            background: #1a1a1a;
            color: #eee;
            font-family: monospace;
        }

        .sheet {
            margin-bottom: 50px;
            border: 1px solid #444;
            padding: 10px;
        }

        .sheet img {
            border: 1px solid #ff00ff;
            max-width: 100%;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .grid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
            background-image:
                linear-gradient(to right, rgba(0, 255, 255, 0.3) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 255, 255, 0.3) 1px, transparent 1px);
            background-size: 32px 32px;
        }

        .container {
            position: relative;
            display: inline-block;
        }
    </style>
</head>

<body>
    <h1>Sprite Inspector (32x32 Grid)</h1>
    <div id="app"></div>

    <script>
        const files = [
            "2Rec.png", "3visan.png", "Andreew.png", "Anevis.png", "Arkan.png",
            "BeachboyX.png", "BrenoNeto.png", "Cat.png", "Celix.png", "Corvo.png",
            "Daniel.png", "DawTorr.png", "Despute.png", "ElderDark.png", "Erick Etchebeur.png",
            "Frenvius.png", "Galiant.png", "GhostX.png", "HalfAway.png", "Hunter Killer.png",
            "Jacobs.png", "Landera.png", "Leshrot.png", "Madarada.png", "Madarada_2.png",
            "Nechros.png", "Nogard.png", "Nordberg.png", "Noxz.png", "Nu77.png",
            "Peonso.png", "Ranzor.png", "Sam Drost.png", "Saphron.png", "Sherice.png",
            "Shiva Shadowsong.png", "Shiva Shadowsong_2.png", "Slaake.png", "Somni.png",
            "Thorn.png", "Tokume.png", "Venesis.png", "Way20.png", "Weto.png", "Worr.png",
            "dami1310.png", "lionkobin.png", "markindoot.png", "maxmillerxd.png", "wesleyt10.png"
        ];

        const app = document.getElementById('app');
        const BASE_PATH = '/assets/opentibia_sprites/sprites_by_author/';

        files.forEach(file => {
            const div = document.createElement('div');
            div.className = 'sheet';
            div.innerHTML = `<h3>${file}</h3><div class="container"><img src="${BASE_PATH}${file}" onload="addGrid(this)"></div>`;
            app.appendChild(div);
        });

        function addGrid(img) {
            const overlay = document.createElement('div');
            overlay.className = 'grid-overlay';
            overlay.style.width = img.width + 'px';
            overlay.style.height = img.height + 'px';

            // Tooltip
            const tooltip = document.createElement('div');
            tooltip.style.position = 'absolute';
            tooltip.style.background = 'rgba(0,0,0,0.8)';
            tooltip.style.color = 'white';
            tooltip.style.padding = '5px';
            tooltip.style.pointerEvents = 'none';
            tooltip.style.display = 'none';
            document.body.appendChild(tooltip);

            overlay.addEventListener('mousemove', (e) => {
                const rect = overlay.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const gridX = Math.floor(x / 32) * 32;
                const gridY = Math.floor(y / 32) * 32;

                tooltip.style.display = 'block';
                tooltip.style.left = (e.pageX + 10) + 'px';
                tooltip.style.top = (e.pageY + 10) + 'px';
                tooltip.innerText = `X: ${gridX}, Y: ${gridY}`;
            });

            overlay.addEventListener('mouseout', () => {
                tooltip.style.display = 'none';
            });

            overlay.addEventListener('click', (e) => {
                const rect = overlay.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const gridX = Math.floor(x / 32) * 32;
                const gridY = Math.floor(y / 32) * 32;
                console.log(`Selected: ${img.src.split('/').pop()} @ ${gridX}, ${gridY}`);
                alert(`Selected: ${img.src.split('/').pop()} @ ${gridX}, ${gridY}`);
            });

            img.parentElement.appendChild(overlay);
        }
    </script>
</body>

</html>